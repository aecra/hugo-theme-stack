<section class="widget tagCloud">
    <div class="widget-icon">
        {{ partial "helper/icon" "tag" }}
    </div>
    <h2 class="widget-title section-title">{{ T "widget.tagCloud.title" }}</h2>

    <div class="tagCloud-tags">
        {{ $weights := .Site.Params.article.widgets }}
        {{if .IsHome }}
            {{ $weights = .Site.Params.widgets }}
        {{ end }}
        {{ range first $weights.tagCloud.limit .Site.Taxonomies.tags.ByCount }}
            {{ $url := .Page.RelPermalink }}
            {{ if $.Site.Params.TrimTrailingSlash }}
                {{ $url = $url | replaceRE "/$" "" }}
            {{ end }}
            <a href="{{ $url }}" class="font_size_{{ .Count }}">
                {{ .Page.Title }}
            </a>
        {{ end }}
    </div>
</section>